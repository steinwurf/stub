
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>struct expectation &#8212; Stub  documentation</title>
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="class function&lt; R(Args…)&gt;" href="function.html" />
    <link rel="prev" title="Welcome to Stub’s documentation!" href="../index.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="function.html" title="class function&lt; R(Args…)&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to Stub’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stub  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    ../index.html" class="text-logo">Stub</a>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">struct expectation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#member-functions-public">Member functions (public)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#member-function-description">Member Function Description</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="function.html">class function&lt; R(Args…)&gt;</a></li>
<li class="toctree-l1"><a class="reference internal" href="return_handler.html">class return_handler</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Versions</h2>
    <div class="sidebar-versions">
      <dl id="versions"></dl>
    </div>
  </div>
</div>
<script>
$(document).ready(function() {
  const this_version = '';
  const version_json_location = './versjon.json';

  function addVersion(name, url) {
    const a = $('<a></a>');
    a.text(name);
    a.attr('href', url);
    const dd = $('<dd></dd>').append(a);
    let final = dd;
    if (name === this_version)
    {
      final = $('<strong></strong>').append(dd);
    }
    $('#versions').append(final);
  }
  $.getJSON(version_json_location, {}).done((versions) => {
    versions.forEach(version => addVersion(version['name'], version['url']));
  });
});
</script>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
              <li>struct expectation</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="struct-expectation">
<span id="stub-function-r-args-expectation"></span><h1>struct expectation<a class="headerlink" href="#struct-expectation" title="Permalink to this headline">¶</a></h1>
<p><strong>Scope:</strong> stub::function&lt; R(Args…)&gt;</p>
<p><strong>In header:</strong> <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;stub/function.hpp&gt;</span></code></p>
<div class="section" id="member-functions-public">
<h2>Member functions (public)<a class="headerlink" href="#member-functions-public" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table table-bordered">
<tbody valign="top">
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#stub-function-r-args-expectation-expectation-constfunction"><span class="std std-ref">expectation</span></a> (<span class="xref std std-ref">const function &amp;</span> the_function)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#stub-function-r-args-expectation-operatorbool-const"><span class="std std-ref">operator bool</span></a> () const</td>
</tr>
<tr class="row-odd"><td>bool</td>
<td><a class="reference internal" href="#stub-function-r-args-expectation-to-bool-const"><span class="std std-ref">to_bool</span></a> () const</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stub-function-r-args-expectation-expectation-constfunction"><span class="std std-ref">expectation &amp;</span></a></td>
<td><a class="reference internal" href="#stub-function-r-args-expectation-with-withargs"><span class="std std-ref">with</span></a> (WithArgs &amp;&amp;… args)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Represent a expectation of how the function object has been invoked. Using the API it is possible to setup how we expect the function object looks like. The expectation converts to bool allowing the user to detect whether the expectation was correct.</p>
</div>
<div class="section" id="member-function-description">
<h2>Member Function Description<a class="headerlink" href="#member-function-description" title="Permalink to this headline">¶</a></h2>
<blockquote id="stub-function-r-args-expectation-expectation-constfunction">
<div><p><strong>expectation</strong> (<span class="xref std std-ref">const function &amp;</span> the_function)</p>
<blockquote>
<div><dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">the_function</span></code>:</dt>
<dd>The function we configuring an expectation for</dd>
</dl>
</div></blockquote>
</div></blockquote>
<hr class="docutils" />
<blockquote id="stub-function-r-args-expectation-operatorbool-const">
<div><p><strong>operator bool</strong> ()</p>
<blockquote>
<div><p>Use the to_bool member function when casting this expectation to a boolean value.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>True if the expectation matches the function, otherwise false</dd>
</dl>
</div></blockquote>
</div></blockquote>
<hr class="docutils" />
<p id="stub-function-r-args-expectation-to-bool-const">bool <strong>to_bool</strong> ()</p>
<blockquote>
<div><p>Convert the expectation to a boolean value either true of false depending on whether the expectations match the actual call. The first argument passed to the predicate function is the actual call arguments and the second is the expectation.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>True if the expectation matches the call, otherwise false</dd>
</dl>
</div></blockquote>
<hr class="docutils" />
<p id="stub-function-r-args-expectation-with-withargs"><a class="reference internal" href="#stub-function-r-args-expectation-expectation-constfunction"><span class="std std-ref">expectation &amp;</span></a> <strong>with</strong> (WithArgs &amp;&amp;… args)</p>
<blockquote>
<div><p>Calling with(…) will add a set of arguments we expect to see. with(…) can be called multiple times in a row if we expect multiple function calls to the function object. As an example:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">stub</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">,</span><span class="kt">uint32_t</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">function</span><span class="p">;</span>
<span class="n">function</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="n">function</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>

<span class="n">assert</span><span class="p">(</span><span class="n">function</span><span class="p">.</span><span class="n">expect_calls</span><span class="p">()</span>
           <span class="p">.</span><span class="n">with</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">).</span><span class="n">with</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">));</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">args</span></code>:</dt>
<dd>The arguments for a function call</dd>
<dt>Returns:</dt>
<dd>The expectation itself, which allows chaining function calls</dd>
</dl>
</div></blockquote>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="../index.html" title="previous chapter (use the left arrow)">Welcome to Stub’s documentation!</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="function.html" title="next chapter (use the right arrow)">class function&lt; R(Args…)&gt;</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="function.html" title="class function&lt; R(Args…)&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to Stub’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stub  documentation</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2018, contact@steinwurf.com. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>