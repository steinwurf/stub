
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>class return_handler &#8212; Stub  documentation</title>
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Usage" href="../usage.html" />
    <link rel="prev" title="class function&lt; R(Args…)&gt;" href="function.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../usage.html" title="Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="function.html" title="class function&lt; R(Args…)&gt;"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stub  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" accesskey="U">API</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    ../index.html" class="text-logo">Stub</a>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="expectation.html">struct expectation</a></li>
<li class="toctree-l2"><a class="reference internal" href="function.html">class function&lt; R(Args…)&gt;</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">class return_handler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#function-calls">Function Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#function-return-values">Function return values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#using-stub-with-template-arguments">Using stub with template arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#unit-testing">Unit testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html#license">License</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Versions</h2>
    <div class="sidebar-versions">
      <dl id="versions"></dl>
    </div>
  </div>
</div>
<script>
$(document).ready(function() {
  const this_version = '';
  const version_json_location = './versjon.json';

  function addVersion(name, url) {
    const a = $('<a></a>');
    a.text(name);
    a.attr('href', url);
    const dd = $('<dd></dd>').append(a);
    let final = dd;
    if (name === this_version)
    {
      final = $('<strong></strong>').append(dd);
    }
    $('#versions').append(final);
  }
  $.getJSON(version_json_location, {}).done((versions) => {
    versions.forEach(version => addVersion(version['name'], version['url']));
  });
});
</script>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
                <li><a href="../api.html">API</a></li>
              
              <li>class return_handler</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="class-return-handler">
<span id="stub-return-handler"></span><h1>class return_handler<a class="headerlink" href="#class-return-handler" title="Permalink to this headline">¶</a></h1>
<p><strong>Scope:</strong> stub</p>
<p><strong>In header:</strong> <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;stub/return_handler.hpp&gt;</span></code></p>
<div class="section" id="brief-description">
<h2>Brief description<a class="headerlink" href="#brief-description" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#stub-return-handler"><span class="std std-ref">return_handler</span></a> is a helper object that is used e.g. in the function object to control which return values should be generated when called.</p>
</div>
<div class="section" id="member-types-public">
<h2>Member types (public)<a class="headerlink" href="#member-types-public" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table table-bordered">
<tbody valign="top">
<tr class="row-odd"><td>using</td>
<td><a class="reference internal" href="#stub-return-handler-return-type"><span class="std std-ref">return_type</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="member-functions-public">
<h2>Member functions (public)<a class="headerlink" href="#member-functions-public" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table table-bordered">
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#stub-return-handler-return-handler"><span class="std std-ref">return_handler</span></a> ()</td>
</tr>
<tr class="row-odd"><td>void</td>
<td><a class="reference internal" href="#stub-return-handler-no-repeat"><span class="std std-ref">no_repeat</span></a> ()</td>
</tr>
<tr class="row-even"><td>R</td>
<td><a class="reference internal" href="#stub-return-handler-operator-const"><span class="std std-ref">operator()</span></a> () const</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#stub-return-handler"><span class="std std-ref">return_handler &amp;</span></a></td>
<td><a class="reference internal" href="#stub-return-handler-set-return-args"><span class="std std-ref">set_return</span></a> (Args &amp;&amp;… values)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#stub-return-handler"><span class="std std-ref">return_handler</span></a> provides the call operator() and when invoked it will return the specified return value. The type R will be the return value. Example: return_handler&lt;uint32_t&gt; v; v.set_return(4U); uint32_t a = v(); assert(a == 4U); uint32_t b = v(); assert(b == 4U); uint32_t c = v(); assert(c != 3U); assert(c == 4U); Or alternatively set multiple return values: return_handler&lt;uint32_t&gt; v; v.set_return({4U,3U}); uint32_t a = v(); assert(a == 4U); uint32_t b = v(); assert(b == 3U); uint32_t c = v(); assert(c == 4U); uint32_t d = v(); assert(d != 4U); assert(d == 3U); The default behavior is to repeat the specified return values i.e.: return_handler&lt;uint32_t&gt; v; v.set_return(3U); uint32_t a = v(); uint32_t b = v(); uint32_t c = v(); assert(a == 3U &amp;&amp; b == 3U &amp;&amp; c == 3U); This behavior can be change by calling <a class="reference internal" href="#stub-return-handler-no-repeat"><span class="std std-ref">no_repeat()</span></a> in which case the <a class="reference internal" href="#stub-return-handler"><span class="std std-ref">return_handler</span></a> can only be invoked once per return value specified: return_handler&lt;uint32_t&gt; v; v.set_return(1U). <a class="reference internal" href="#stub-return-handler-no-repeat"><span class="std std-ref">no_repeat()</span></a> ; uint32_t a = v(); uint32_t b = v(); // &lt;- Crash return_handler&lt;uint32_t&gt; v; v.set_return({1U,2U,3U}). <a class="reference internal" href="#stub-return-handler-no-repeat"><span class="std std-ref">no_repeat()</span></a> ; uint32_t a = v(); uint32_t b = v(); uint32_t c = v(); uint32_t d = v(); // &lt;- Crash</p>
</div>
<div class="section" id="member-function-description">
<h2>Member Function Description<a class="headerlink" href="#member-function-description" title="Permalink to this headline">¶</a></h2>
<blockquote id="stub-return-handler-return-handler">
<div><p><strong>return_handler</strong> ()</p>
<blockquote>
<div>Constructor.</div></blockquote>
</div></blockquote>
<hr class="docutils" />
<p id="stub-return-handler-no-repeat">void <strong>no_repeat</strong> ()</p>
<blockquote>
<div>Set repeat off. This means that no values will be repeated the user has to specify exactly the number of values that should be return otherwise an assert will be triggered.</div></blockquote>
<hr class="docutils" />
<p id="stub-return-handler-operator-const">R <strong>operator()</strong> ()</p>
<blockquote>
<div><p>The call operator which will generate a return value.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>The generated return value</dd>
</dl>
</div></blockquote>
<hr class="docutils" />
<p id="stub-return-handler-set-return-args"><a class="reference internal" href="#stub-return-handler"><span class="std std-ref">return_handler &amp;</span></a> <strong>set_return</strong> (Args &amp;&amp;… values)</p>
<blockquote>
<div><p>Initializes the <a class="reference internal" href="#stub-return-handler"><span class="std std-ref">return_handler</span></a> with the return values to use. Calling this function will also reset the <a class="reference internal" href="#stub-return-handler"><span class="std std-ref">return_handler</span></a> state. So any previously specified returns values will be removed etc.</p>
<dl class="docutils">
<dt>Parameter <code class="docutils literal notranslate"><span class="pre">values</span></code>:</dt>
<dd>The list of return values to use</dd>
<dt>Returns:</dt>
<dd>Reference to the return handler, this allows the caller to perform additional customization to the return handler such as turn on or off repeat.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="type-description">
<h2>Type Description<a class="headerlink" href="#type-description" title="Permalink to this headline">¶</a></h2>
<dl class="docutils" id="stub-return-handler-return-type">
<dt>using <strong>return_type</strong> = typename unqualified_type&lt; R &gt;::type</dt>
<dd>Get the unqualified version of return type.</dd>
</dl>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="function.html" title="previous chapter (use the left arrow)">class function&lt; R(Args…)&gt;</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="../usage.html" title="next chapter (use the right arrow)">Usage</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../usage.html" title="Usage"
             >next</a> |</li>
        <li class="right" >
          <a href="function.html" title="class function&lt; R(Args…)&gt;"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stub  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../api.html" >API</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2018, contact@steinwurf.com. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>